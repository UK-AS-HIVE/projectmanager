<template name="projects">
  <div class="container">
    {{> projectForm}}
    <br/>
    <br/>
    {{> filters}}
    {{> search}}
    <table class="table table-bordered table-striped table-hover projectTable pagination-sm table-condensed" id="projectTable">
      <thead class="project-header">
        <tr>
          <th id="name-header" width='auto'>Name</th>
          <th id="owner-header">Owner</th>
          <th id="url-header">URL</th>
          <th>Status</th>
          <th>Priority</th>
          <th>Due/Launch Date</th>
        </tr>
      </thead>
      <tbody>
        {{#each projectList}}
        {{> projectRow}}
        {{/each}}
      </tbody>
    </table>
    <button id="goTop">Go To Top</button>
  </div>
</template>
<template name="projectRow">
  <tr class="parent">
    <td class="inline-edit-preview hoverable" >
          {{#if screenshotEnabled}}
      <div style="inline-block">
        {{#each thumbnailPath this._id}}
        <img href="{{this.url}}" src= "{{this.url}}" align="left">
        {{/each}}
      </div>
      {{/if}}
      <div class="inline-edit" style="display:inline-block;margin-left:5px">
        <span class="inline-edit-preview">
        <strong>{{name}}</strong>
        </span>
        <span class="inline-edit-form">
        <input type="text" class="form-control inline-name" value="{{name}}" placeholder="Name" />
        </span>
        <i class="glyphicon glyphicon-edit"></i>
      </div>
    </td>
    <!--Editable Owner-->
    <td class="inline-edit-preview hoverable">
      <div class="inline-edit" style="display:inline-block">
        <span class="inline-edit-preview">
        {{owner}}
        </span>
        <span class="inline-edit-form">
        <input type="text" class="form-control inline-owner" value="{{owner}}" placeholder="Owner" />
        </span>
        <i class="glyphicon glyphicon-edit"></i>
      </div>
    </td>
    <!--/Editable Owner-->
    <!--Editable URL-->
    <td class="inline-edit-preview hoverable" >
      <div class="inline-edit" style="display:inline-block">
        <span class="inline-edit-preview">
        <a href="{{url}}" target="_blank">{{url}}</a>
        </span>
        <span class="inline-edit-form">
        <input type="text" class="form-control inline-url" value="{{url}}" placeholder="URL" />
        </span>
        <i class="glyphicon glyphicon-edit"></i>
      </div>
    </td>
    <!--/Editable-->
    <!--Editable Status-->
    <td class="hoverable">
      <div class="inline-edit" style="display:inline-block">
        <span class="inline-edit-preview">
        {{status}}
        </span>
        <span class="inline-edit-form">
          <select type="text" class="form-control inline-status" value="{{status}}" placeholder="status">
            <option value="In Progress">In Progress</option>
            <option value="Not Scheduled">Not Scheduled</option>
            <option value="On Hold">On Hold</option>
            <option value="Done">Done</option>
          </select>
        </span>
        <i class="glyphicon glyphicon-edit"></i>
      </div>
    </td>
    <td class="hoverable">
      <div class="inline-edit" style="display:inline-block">
        <span class="inline-edit-preview">
        {{priority}}
        </span>
        <span class="inline-edit-form">
          <select type="text" class="form-control inline-priority" value="{{priority}}" placeholder="Priority">
            <option value="High Priority">High Priority</option>
            <option value="Medium Priority">Medium Priority</option>
            <option value="Low Priority">Low Priority</option>
          </select>
        </span>
        <i class="glyphicon glyphicon-edit"></i>
      </div>
    </td>
    <td class="hoverable">
      <div class="inline-edit">
        <span class="inline-edit-preview">{{date}}</span>
        <span class="inline-edit-form">
        <input class="datepicker inline-date">
        </span>
        <i class="glyphicon glyphicon-edit glyphicon-visible"></i>
      </div>
    </td>
    <!--/Editable-->
  </tr>
  <tr style="display: none;" class ="details">
    <td colspan='8'>
      <div class="row">
      <div class='col-md-6'>
        <div class="row">
        <div class="col-md-12">
          <div class="inline-edit" style="display:inline-block; vertical-align:middle">
                      <span class="label label-default">Description</span>
                      <span class="inline-edit-preview">{{description}}</span>
                      <span class="inline-edit-form">
                      <textarea type="text" class="form-control inline-description" value="{{description}}" placeholder="description"></textarea>
                      </span>
                      <i class="glyphicon glyphicon-edit"></i>
          </div>
          <br>
          <br>
          <div class="inline-edit" style="display:inline-block; vertical-align:middle">
                      <span class="label label-default">Platform</span>
                      <span class="inline-edit-preview">{{platform}}</span>
                      <span class="inline-edit-form">
                      <input type="text" class="form-control inline-platform" value="{{platform}}" placeholder="Platform">
                      </span>
                      <i class="glyphicon glyphicon-edit"></i>
          </div>
          <br>
          <br>

          <div class="inline-edit" style="display:inline-block; vertical-align:middle">
                      <span class="label label-default">Type</span>
                      <span class="inline-edit-preview">{{type}}</span>
                      <span class="inline-edit-form">
                      <input type="text" class="form-control inline-type" value="{{type}}" placeholder="Type">
                      </span>
                      <i class="glyphicon glyphicon-edit"></i>
          </div>
          <br>
          <br>
          <div class="inline-edit" style="display:inline-block; vertical-align:middle">
                      <span class="label label-default">Notes</span>
                      <span class="inline-edit-preview">{{notes}}</span>
                      <span class="inline-edit-form">
                      <textarea type="text" class="form-control inline-notes" value="{{notes}}" placeholder="Notes"></textarea>
                      </span>
                      <i class="glyphicon glyphicon-edit"></i>
          </div>
          <br>
          <br>
          {{>tags}}
          <br><br>
          <div class="inline-edit" style="display:inline-block; vertical-align:middle">
                      <span class="label label-default hoverable">Github Repo</span>
                      <a href='{{githuburl}}' class="inline-edit-preview">{{githuburl}}</a>
                      <span class="inline-edit-form">
                      <input type="text" class="form-control inline-github" value="{{githuburl}}" placeholder="Github Repo URL">
                      </span>
                      <i class="glyphicon glyphicon-edit"></i>
          </div>
        </div>
        </div>

        </div>
        <div class="col-md-6 pull-right">
          <span class="glyphicon glyphicon-refresh refreshScreenshot pull-right"></span>
          {{#if screenshotEnabled}}
          {{#each imagePath this._id}}
          <div STYLE="height:auto;max-height:400px; width: 655px; font-size: 12px; overflow: auto; float:right;">
            <img href="{{this.url}}" src= "{{this.url}}" class="screenshot-wrapper" align="left"><br />
          </div>
          {{/each}}
          {{/if}}
        </div>
      </div>
    </td>
  </tr>
</template>
<template name="imageList">
  {{#each images}}
  <li>
    <p>{{this.metadata.projectId}}</p>
    <img src="{{this.url}}">
  </li>
  {{/each}}
</template>